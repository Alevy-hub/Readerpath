@model FinishYearModel

<style>
    .card {
        border-color: #c64a16;
    }

    .card-body {
        flex: 0;
    }

    .list-group-item {
        border-color: #c64a16;
    }
</style>

<div class="text-center mt-3">
    <h3>Zakończ rok @Model.Year</h3>
</div>

<div class="text-center mt-3">
    <h4 id="head">Oto książki, które wybrano jako najlepsze</h4>
</div>

<div id="bestBooks" class="d-flex justify-content-center flex-wrap">
    @foreach (BestBook bestBook in Model.BestBooks)
    {
        DateTime finishDate = (DateTime)bestBook.FinishDate;
        string finishDateString = finishDate.ToString("dd.MM.yyyy");

        <div class="card col-md-3 my-3 mx-1" style="max-width: 18rem;">
            <div class="card-body text-center">
                <h4 class="card-title">@bestBook.BookTitle</h4>
                <h6 class="card-subtitle mb-2 text-muted">@bestBook.BookAuthor</h6>
                <h6 class="card-subtitle mb-2 text-muted">@bestBook.BookGenre</h6>
            </div>
            <ul class="list-group list-group-flush">
                <li class="list-group-item">Data ukończenia: @finishDateString</li>
                <li class="list-group-item">Ocena: @bestBook.Rating</li>
            </ul>
        </div>
    }
</div>

<div id="duel" class="d-none d-flex justify-content-center flex-wrap">
    <div id="book1" onclick="choose(1)" class="card col-md-3 my-3 mx-1" style="max-width: 18rem;">
        <div class="card-body text-center">
            <h4 id="bookTitle1" class="card-title"></h4>
            <h6 id="bookAuthor1" class="card-subtitle mb-2 text-muted"></h6>
            <h6 id="bookGenre1" class="card-subtitle mb-2 text-muted"></h6>
        </div>
        <ul class="list-group list-group-flush">
            <li id="finishDate1" class="list-group-item">Data ukończenia: </li>
            <li id="rating1" class="list-group-item">Ocena: </li>
        </ul>
    </div>
    <div id="book2" onclick="choose(2)" class="card col-md-3 my-3 mx-1" style="max-width: 18rem;">
        <div class="card-body text-center">
            <h4 id="bookTitle2" class="card-title"></h4>
            <h6 id="bookAuthor2" class="card-subtitle mb-2 text-muted"></h6>
            <h6 id="bookGenre2" class="card-subtitle mb-2 text-muted"></h6>
        </div>
        <ul class="list-group list-group-flush">
            <li id="finishDate2" class="list-group-item">Data ukończenia: </li>
            <li id="rating2" class="list-group-item">Ocena: </li>
        </ul>
    </div>
    <div id="book3" onclick="choose(3)" class="d-none card col-md-3 my-3 mx-1" style="max-width: 18rem;">
        <div class="card-body text-center">
            <h4 id="bookTitle3" class="card-title"></h4>
            <h6 id="bookAuthor3" class="card-subtitle mb-2 text-muted"></h6>
            <h6 id="bookGenre3" class="card-subtitle mb-2 text-muted"></h6>
        </div>
        <ul class="list-group list-group-flush">
            <li id="finishDate3" class="list-group-item">Data ukończenia: </li>
            <li id="rating3" class="list-group-item">Ocena: </li>
        </ul>
    </div>
</div>

<div class="d-flex justify-content-center align-items-center">
    <div class="py-3 mt-1 mx-1">
        <a id="goButton" onclick="go()" class="btn btn-primary btn-lg w-100 pulse">Przejdź dalej</a>
    </div>
</div>

<script>
    var bestBooks = @Html.Raw(System.Text.Json.JsonSerializer.Serialize(Model.BestBooks));
    var duelStarted = false;

    function go() {
        if (duelStarted == false) {
            document.getElementById("bestBooks").classList.add("d-none");
            document.getElementById("duel").classList.remove("d-none");
            duelStarted = true;
        }
        else {

        }
    }



</script>
